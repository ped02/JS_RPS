<!DOCTYPE HTML>
<html>
<head>
	<meta charset="UTF-8">
	<title>Rock Paper Scissor</title>
	<script type="text/javascript">
		var reset = function(){
			playerScoreCount = 0;
			computerScoreCount = 0;
			document.getElementById("ps").innerHTML = "Player: " + playerScoreCount;
			document.getElementById("cs").innerHTML = "Computer: " + computerScoreCount;
			var num = document.getElementsByTagName("P").length;
			var result = document.getElementById('result');
			console.log("Score have been reset!");
			while(result.hasChildNodes()){
				result.removeChild(result.childNodes[0]);
			}
			//for (i = num; i > -1; i--){
			//	result.removeChild(result.childNodes[0]);
			//}
		}
		var playerChoice;
		var computerChoice;
		var win;
		var playerScoreCount = 0;
		var currentPS = playerScoreCount;
		var computerScoreCount = 0;
		var currentCS = computerScoreCount;
		var p1 = function(){
			var ans = prompt('Choose Rock(1), Paper(2), Scissor(3)!');
			switch(ans){
				case '1':
					playerChoice = "Rock";
					console.log("You selected " + playerChoice);
					break;
				case '2':
					playerChoice = "Paper";
					console.log("You selected " + playerChoice);
					break;
				case '3':
					playerChoice = "Scissor";
					console.log("You selected " + playerChoice);
					break;
				default:
					alert("Please enter a valid number(1-3).");
					playerChoice = "";
					break;
			}
				var compChoice = function(){
					var randomizer = Math.random();
					console.log("Random Number is " + randomizer);
					if(Math.random() <= (1/3)){
						computerChoice = "Rock";
						console.log("Computer selected " + computerChoice);
					}else if((1/3) < Math.random() <= (2/3)){
						computerChoice = "Paper";
						console.log("Computer selected " + computerChoice);
					}else{
						computerChoice = "Scissor";
						console.log("Computer selected " + computerChoice);
					}
				}
				var feed = function(){
					var node = document.createElement("p");
					var node2 = document.createElement("p");
					var node3 = document.createElement("h4");
					if (playerChoice != "") {
						var tn1 = document.createTextNode("You selected " + playerChoice + ".");
						var tn2 = document.createTextNode("Computer selected " + computerChoice + ".");
					}else{
						var tn1 = document.createTextNode("You didn't selected.");
						var tn2 = document.createTextNode("");
					}
					var tn3 = document.createTextNode(win);
					var num = document.getElementsByTagName("P").length;
					var result = document.getElementById('result');
					node.appendChild(tn1);
					node2.appendChild(tn2);
					node3.appendChild(tn3);
					while(result.hasChildNodes()){
						result.removeChild(result.childNodes[0]);
					}
					//for (i = num; i > -1; i--){
					//	result.removeChild(result.childNodes[0]);
					//}
					result.insertBefore(node, result.childNodes[0]);
					result.insertBefore(node2, result.childNodes[1]);
					result.insertBefore(node3, result.childNodes[2]);
				}
				var game = function(){
					if(playerChoice === "Rock"){
						console.log("Rock!");
						if(computerChoice === "Rock"){
							win = "Tie!";
							console.log("Tie");
						}else if(computerChoice === "Paper"){
							win = "Computer Wins!";
							console.log("Lose");
						}else{
							win = "Player Wins!";
							console.log("Win");
						}
					}else if(playerChoice === "Paper"){
						console.log("Paper");
						if(computerChoice === "Rock"){
							win = "Player Wins!";
							console.log("Win");
						}else if(computerChoice === "Paper"){
							win = "Tie!";
							console.log("Tie");
						}else{
							win = "Computer Wins!";
							console.log("Lose");
						}
					}else if(playerChoice === "Scissor"){
						console.log("Scissor");
						if(computerChoice === "Rock"){
							win = "Computer Wins!";
							console.log("Lose");
						}else if(computerChoice === "Paper"){
							win = "Player Wins!";
							console.log("Win");
						}else{
							win = "Tie!";
							console.log("Tie");
						}	
					}else{
						console.log("Wrong Input");
						win = "";
						playerChoice = "";
						computerChoice = "";
					}
				}
				var score = function(){
					if(win === "Player Wins!"){
						currentPS = playerScoreCount+1;
						playerScoreCount = currentPS;
						console.log("Log Player Score");
						document.getElementById("ps").innerHTML = "Player: " + currentPS;
					}else if(win === "Computer Wins!"){
						currentCS = computerScoreCount+1;
						computerScoreCount = currentCS;
						console.log("Log Computer Score");
						document.getElementById("cs").innerHTML = "Computer: " + currentCS;
					}else if(win === "Tie!"){
						console.log("Same");
					}else{
						console.log("Wrong Input");
					}
				}
				compChoice();
				game();
				feed();
				score();
			}
			//Created by Ped G.8
		</script>

	<style type="text/css">
	*{
		padding: 0px;
		margin: 0px;
	}
	.container{
		margin: auto;
		height: 500px;
		width: 500px;
	}
	.result{
		height: 80px;
		width: 450px;
		border: 1px #000000 solid;
		margin-top: 20px;
	}
	.score{
		height: 70px;
		width: 450px;
		border: 1px #000000 solid;
		margin-top: 20px;
	}
	.score *{
		margin-left: 10px;
	}
	.result *{
		margin-left: 10px;
	}
	/*.score h3{
		margin-left: 10px;
	}
	.score button{
		margin-left: 10px;
	}
	.result p{
		margin-left: 10px;
	}
	.result h4{
		margin-left: 10px;
	}*/
	.start{
		margin-left: 10px;
	}
	</style>
</head>
<body>
	<div class="container">
		<div class="title">
			<h1>Rock Paper Scissor!</h1>
		</div>
		<div class="score">
			<h3 id="ps">Player: 0</h3>
			<h3 id="cs">Computer: 0</h3>
			<button class="res" onclick="reset();">Reset!</button>
		</div>
		<br>
		<br>
		<button class="start"onclick="p1();">Click to Choose!</button>
		<div class="result" id="result">
			<div class="blank"></div>
		</div>
	</div>
</body>
</html>